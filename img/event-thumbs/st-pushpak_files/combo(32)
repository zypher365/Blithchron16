YUI.add("hermes-template-photo-list-album-interaction",function(e,t){var n=e.Template.Handlebars.revive(function(e,t,n,r,i){function p(e,t){return" has-actions"}function d(e,t){var r="",i,s;return r+='\n				<span class="metadot">&middot;</span>\n				<span class="album-views-count-wrapper">\n					<span class="album-views-label secondary">\n						',s={hash:{intlName:"album-page.VIEWS_COUNT",selectedCount:(i=e.album,i==null||i===!1?i:i.viewCount)},data:t},r+=l((i=n.intlMessage||e.intlMessage,i?i.call(e,s):f.call(e,"intlMessage",s)))+"\n					</span>\n				</span>\n			",r}function v(e,t){var r="",i,s;r+='\n		<div class="actions ',s=n.unless.call(e,(i=e.album,i==null||i===!1?i:i.isOwner),{hash:{},inverse:c.noop,fn:c.program(6,m,t),data:t});if(s||s===0)r+=s;r+='">\n			<a class="share cta',s=n.unless.call(e,(i=e.album,i==null||i===!1?i:i.canShare),{hash:{},inverse:c.noop,fn:c.program(8,g,t),data:t});if(s||s===0)r+=s;r+='" title="',s=n["if"].call(e,(i=e.album,i==null||i===!1?i:i.canShare),{hash:{},inverse:c.program(12,b,t),fn:c.program(10,y,t),data:t});if(s||s===0)r+=s;r+='"><span></span></a>\n			',s=n["if"].call(e,(i=e.album,i==null||i===!1?i:i.isOwner),{hash:{},inverse:c.noop,fn:c.program(14,w,t),data:t});if(s||s===0)r+=s;r+="\n			",s=n["if"].call(e,e.enableDownloading,{hash:{},inverse:c.noop,fn:c.program(16,E,t),data:t});if(s||s===0)r+=s;r+="\n			",s=n["if"].call(e,e.enableDeleting,{hash:{},inverse:c.noop,fn:c.program(18,S,t),data:t});if(s||s===0)r+=s;return r+="\n		</div>\n		",r}function m(e,t){return"less-items"}function g(e,t){return" is-disabled"}function y(e,t){var r,i;return i={hash:{intlName:"album-page.SHARE_THIS_ALBUM"},data:t},l((r=n.intlMessage||e.intlMessage,r?r.call(e,i):f.call(e,"intlMessage",i)))}function b(e,t){var r,i;return i={hash:{intlName:"share-modal.SHARING_DISABLED"},data:t},l((r=n.intlMessage||e.intlMessage,r?r.call(e,i):f.call(e,"intlMessage",i)))}function w(e,t){var r="",i,s;return r+='\n				<a class="book cta" title="',s={hash:{intlName:"album-page.CREATE_BOOK_FROM_ALBUM"},data:t},r+=l((i=n.intlMessage||e.intlMessage,i?i.call(e,s):f.call(e,"intlMessage",s)))+'"><span></span></a>\n			',r}function E(e,t){var r="",i,s;return r+='\n				<a class="download cta" title="',s={hash:{intlName:"common.DOWNLOAD"},data:t},r+=l((i=n.intlMessage||e.intlMessage,i?i.call(e,s):f.call(e,"intlMessage",s)))+'"><span></span></a>\n			',r}function S(e,t){var r="",i,s;return r+='\n				<a class="trash cta" title="',s={hash:{intlName:"album-page.DELETE_THIS_ALBUM"},data:t},r+=l((i=n.intlMessage||e.intlMessage,i?i.call(e,s):f.call(e,"intlMessage",s)))+'"><span></span></a>\n			',r}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u,a,f=n.helperMissing,l=this.escapeExpression,c=this,h="function";s+='<div class="photo-list-album-interaction dark',o=n["if"].call(t,t.enableActions,{hash:{},inverse:c.noop,fn:c.program(1,p,i),data:i});if(o||o===0)s+=o;s+='" data-albumId="'+l((o=(o=t.album,o==null||o===!1?o:o.id),typeof o===h?o.apply(t):o))+'">\n	<a class="overlay" href="'+l((o=(o=t.album,o==null||o===!1?o:o.url),typeof o===h?o.apply(t):o))+'"></a>\n	<div class="interaction-bar">\n		<div class="metadata">\n			<h4 class="album-title">',a={hash:{},data:i},s+=l((o=n.truncate||t.truncate,o?o.call(t,(o=t.album,o==null||o===!1?o:o.title),120,!1,!0,a):f.call(t,"truncate",(o=t.album,o==null||o===!1?o:o.title),120,!1,!0,a)))+'</h4>\n			<span class="album-photo-count secondary">'+l((o=(o=t.album,o==null||o===!1?o:o.photoAndVideosDisplay),typeof o===h?o.apply(t):o))+"</span>\n\n			",a={hash:{},inverse:c.noop,fn:c.program(3,d,i),data:i},u=(o=n.ifCond||t.ifCond,o?o.call(t,(o=t.album,o==null||o===!1?o:o.viewCount),">",0,a):f.call(t,"ifCond",(o=t.album,o==null||o===!1?o:o.viewCount),">",0,a));if(u||u===0)s+=u;s+="\n		</div>\n\n		",u=n["if"].call(t,t.enableActions,{hash:{},inverse:c.noop,fn:c.program(5,v,i),data:i});if(u||u===0)s+=u;return s+="\n	</div>\n</div>\n",s}),r={};e.Array.each([],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/photo-list-album-interaction",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base"]});
YUI.add("photo-list-album-interaction-view",function(e){var t=require("lib/helpers/type-validator");"use strict",e.namespace("Views")[this.name]=e.Base.create(this.name,e.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(e){return this.get("container").get("innerHTML")===""&&this.setContainerHTML(""),this},loadState:function(){return e.Promise.resolve()},buildContainer:function(){var e=this.get("model"),t;t={album:this.get("model").toJSON()};if(e.getValue("canShare")||e.getValue("isOwner")||this.appContext.flipper.isFlipped("enable-album-download")&&e.getValue("canDownload"))t.enableActions=!0;if(this.appContext.flipper.isFlipped("enable-just-your-album-download")&&e.getValue("isOwner")||this.appContext.flipper.isFlipped("enable-album-download")&&e.getValue("canDownload"))t.enableDownloading=!0;return e.getValue("isOwner")&&!e.getValue("isAutoUploadSet")&&(t.enableDeleting=!0),this.setContainerHTML(this.templates("photo-list-album-interaction")(t)),this},activate:function(){return this},destructor:function(){}},{ATTRS:{id:{writeOnce:"initOnly",validator:function(e,n){return t.photoId(e)}},model:{writeOnce:"initOnly"},albumPageUrl:{writeOnce:"initOnly"},engagement:{value:null},engagementModelName:{writeOnce:"initOnly",value:null,validator:function(t,n){return e.AttributeHelpers.validateString(t)}}}})},"@VERSION@",{requires:["flickr-view","hermes-template-photo-list-album-interaction","photo-list-album-interaction-css","attribute-helpers"],optionalRequires:["fluid"],langBundles:["models","common","album-page","share-modal"]});
